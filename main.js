console.log("前端代码");var gallery={justifiedGallery:{js:"https://cdn.staticfile.net/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js",css:"https://cdn.staticfile.net/justifiedGallery/3.8.1/css/justifiedGallery.min.css"}},loadCSS=(e,t,a,r)=>{var o,n,i=window.document,l=i.createElement("link"),s=(n=t||(o=(i.body||i.getElementsByTagName("head")[0]).childNodes)[o.length-1],i.styleSheets);if(r)for(var d in r)r.hasOwnProperty(d)&&l.setAttribute(d,r[d]);l.rel="stylesheet",l.href=e,l.media="only x",function e(t){if(i.body)return t();setTimeout(function(){e(t)})}(function(){n.parentNode.insertBefore(l,t?n:n.nextSibling)});function f(e){for(var t=l.href,a=s.length;a--;)if(s[a].href===t)return e();setTimeout(function(){f(e)})}function u(){l.addEventListener&&l.removeEventListener("load",u),l.media=a||"all"}return l.addEventListener&&l.addEventListener("load",u),l.onloadcssdefined=f,f(u),l},loadScript=(o,n)=>new Promise((t,e)=>{var a=document.createElement("script");if(a.src=o,n)for(var r of Object.keys(n))a[r]=n[r];else a.async=!0;a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),loadjQuery=e=>{"undefined"==typeof jQuery?loadScript("https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js").then(e):e()},loadUrl=(n,i,l)=>{var s=5;!function o(){new Promise((t,e)=>{var a=0,r=setTimeout(()=>{0===a&&(a=2,r=null,e("请求超时"),0==s)&&l()},5e3);fetch(n).then(function(e){if(2!==a&&(clearTimeout(r),t(e),r=null,a=1),e.ok)return e.json();throw new Error("Network response was not ok.")}).then(function(e){s=0,i(e)}).catch(function(e){0<s?(--s,setTimeout(()=>{o()},5e3)):l()})})}()};function justified_gallery(e){$(e).justifiedGallery({lastRow:"left",captions:!1,margins:3,border:-1}).on("jp.complete",function(){$.fancybox.defaults.hash=!1,$(".fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}})})}var InfiniteScrollGallery={layoutDiv:o=>{var t=$(o.el)[0];$(t).append('<div class="loading-wrap"><svg xmlns="http://www.w3.org/2000/svg" width="2rem" height="2rem" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"/></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"/><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></g></svg></div>'),loadUrl(o.api,function(e){$(t).find(".loading-wrap").remove();var a=[];e.forEach((e,t)=>{console.log(e),console.log(t),console.log(e.name),temp_name=e.name.split("."),console.log(temp_name),"jpg"!=temp_name[temp_name.length-1]&&"webp"!=temp_name[temp_name.length-1]&&"png"!=temp_name[temp_name.length-1]||a.push(e.name)}),a.forEach((e,t)=>{var a=e.split(".")[0],e=o.cdn+e,r=(r='<a fancybox="true" data-fancybox="'+o.id+'" data-caption="'+a+'" target="_blank" rel="noopener" href="'+e+'">')+`<img no-lazy src="${e}" alt="${a}">`+"</a>";$("#"+o.id).append(r)}),justified_gallery("#"+o.id)},function(){$(t).find(".loading-wrap svg").remove(),$(t).find(".loading-wrap").append('<svg xmlns="http://www.w3.org/2000/svg" width="2rem" height="2rem" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M12 3L21 20H3L12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"/></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10V14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"/></path></g><circle cx="12" cy="17" r="1" fill="currentColor" fill-opacity="0"><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.4s" values="0;1"/></circle></svg>'),$(t).find(".loading-wrap").addClass("error")})}};loadjQuery(()=>{loadCSS(gallery.justifiedGallery.css),loadScript(gallery.justifiedGallery.js).then(()=>{var e=new Object;e.api="https://api.github.com/repos/shaoyaoqian/shaoyaoqian.github.io/contents/hexo/source/img/album-zhoujielun?ref=source",e.cdn="https://www.pengfeima.cn/img/album-zhoujielun/",e.id="0xje8cj39d0e",document.getElementById(e.id)&&InfiniteScrollGallery.layoutDiv(e)})}),loadjQuery(()=>{loadCSS(gallery.justifiedGallery.css),loadScript(gallery.justifiedGallery.js).then(()=>{for(var e=document.getElementsByClassName("tile-gallery"),t=0;t<e.length;t++)justified_gallery("#"+e[t].getAttribute("id"))})});